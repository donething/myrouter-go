<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>我的路由器</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/donething/cdn@0.0.3/css/ant.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/donething/cdn@0.0.3/css/global.css"/>
    <link rel="stylesheet" href="/static/css/main.css"/>
</head>
<body>
<div id="root" class="col">
    <div class="col gap separate">
        <span>控制功能</span>
        <div class="row wrap gap">
            <button class="btn btn-primary btn-danger" onclick="onReboot()">重启路由器</button>
            <button class="btn" onclick="onWakeup()">网络唤醒电脑</button>
        </div>
    </div>
</div>

<script>
    // 执行请求
    const request = async (path) => {
        let resp = await fetch(path + window.location.search)
        let msg = await resp.text()
        alert(msg)
    }

    // 重启
    const onReboot = () => {
        if (confirm("确认 重启路由器？")) {
            request("/api/reboot")
        }
    }

    // 唤醒网络设备
    const onWakeup = () => {
        request("/api/wol")
    }
</script>
</body>
</html>